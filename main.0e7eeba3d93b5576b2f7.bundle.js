webpackJsonp([1],{0:function(n,t,l){n.exports=l("cDNt")},cDNt:function(n,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=l("/oeL"),u=function(){return function(){}}(),o=function(){return function(){}}(),r=l("qbdv"),i=function(){function n(n){this.name=n,this.count=1}return n.prototype.incrementCount=function(){this.count++},n}(),a=l("XKz0"),c=function(){function n(n){this.http=n,this.rootURL="https://api.instagram.com/v1/tags/"}return n.prototype.getTagInfo=function(n){return this.http.get(this.rootURL+n)},n.prototype.getTags=function(n){return this.http.get(this.rootURL+"search?q="+n)},n.prototype.getMediaByTag=function(n){var t=new a.h;return t.append("Accept","application/json"),t.append("Content-Type","application/json"),this.http.get("https://www.instagram.com/explore/tags/"+n+"/",{headers:t,responseType:"text"})},n.ctorParameters=function(){return[{type:a.c}]},n}(),s=function(){function n(n){this.dataService=n,this.tags=new Array,this.texts=new Array,this.selectedCount=0}return n.prototype.ngOnInit=function(){this.getTag(),this.getTags("snow")},n.prototype.getTag=function(){this.dataService.getTagInfo("snow").subscribe(function(n){return console.log(n)})},n.prototype.getTags=function(n){this.dataService.getTags(n).subscribe(function(n){return console.log(n)})},n.prototype.getMediaByTag=function(n){var t=this;this.dataService.getMediaByTag(n).subscribe(function(n){var l=/#[^ |\n|#|@]*/g;n.match(/"text":"[^"]*/g).forEach(function(n){var e=n.match(l);null!=e&&e.forEach(function(n){n=n.slice(1);var l=t.tags.find(function(t){return t.name===n});null==l?t.tags.push(new i(n)):l.incrementCount()})}),t.tags.sort(function(n,t){return t.count-n.count}),t.tags=t.tags.filter(function(n){return n.count>3}).slice(0,40)})},n.prototype.toggleTag=function(n){n.selected=!n.selected,this.updateSelectedCount()},n.prototype.updateSelectedCount=function(){var n=0;this.tags.forEach(function(t){t.selected&&n++}),this.selectedCount=n},n.ctorParameters=function(){return[{type:c}]},n}(),p=[[".selected[_ngcontent-%COMP%]{color:#333;background-color:azure;border:1px solid azure}ul[_ngcontent-%COMP%]{padding:0}li[_ngcontent-%COMP%]{float:left;display:block;margin:3px 4px;border:1px solid;border-radius:8px;padding:2px 11px}"]],_=e._12({encapsulation:0,styles:p,data:{}});function f(n){return e._29(0,[(n()(),e._15(0,0,null,null,2,"li",[],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;"click"===t&&(e=!1!==u.toggleTag(n.context.$implicit)&&e);return e},null,null)),e._13(1,278528,null,0,r.h,[e.y,e.z,e.n,e.M],{ngClass:[0,"ngClass"]},null),(n()(),e._28(2,null,["\n    "," - ","\n  "]))],function(n,t){n(t,1,0,t.context.$implicit.selected?"selected":"")},function(n,t){n(t,2,0,t.context.$implicit.name,t.context.$implicit.count)})}function g(n){return e._29(0,[(n()(),e._15(0,0,null,null,1,"li",[],null,null,null,null,null)),(n()(),e._28(1,null,["",""]))],null,function(n,t){n(t,1,0,t.context.$implicit)})}function d(n){return e._29(0,[(n()(),e._15(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e._28(1,null,["",""])),(n()(),e._28(-1,null,["\n"])),(n()(),e._28(-1,null,["\n"])),(n()(),e._15(4,0,[["newTag",1]],null,0,"input",[["type","text"]],null,[[null,"keyup.enter"]],function(n,t,l){var u=!0,o=n.component;"keyup.enter"===t&&(u=!1!==o.getMediaByTag(e._26(n,4).value)&&u);return u},null,null)),(n()(),e._28(-1,null,["\n"])),(n()(),e._15(6,0,null,null,4,"ul",[],null,null,null,null,null)),(n()(),e._28(-1,null,["\n  "])),(n()(),e._9(16777216,null,null,1,null,f)),e._13(9,802816,null,0,r.i,[e.Y,e.V,e.y],{ngForOf:[0,"ngForOf"]},null),(n()(),e._28(-1,null,["\n"])),(n()(),e._28(-1,null,["\n\n"])),(n()(),e._15(12,0,null,null,4,"ul",[],null,null,null,null,null)),(n()(),e._28(-1,null,["\n  "])),(n()(),e._9(16777216,null,null,1,null,g)),e._13(15,802816,null,0,r.i,[e.Y,e.V,e.y],{ngForOf:[0,"ngForOf"]},null),(n()(),e._28(-1,null,["\n"])),(n()(),e._28(-1,null,["\n\n"]))],function(n,t){var l=t.component;n(t,9,0,l.tags),n(t,15,0,l.texts)},function(n,t){n(t,1,0,t.component.selectedCount)})}var h=e._10("app-tagfinder",s,function(n){return e._29(0,[(n()(),e._15(0,0,null,null,1,"app-tagfinder",[],null,null,null,d,_)),e._13(1,114688,null,0,s,[c],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),b=l("BkNc"),m=function(){function n(){this.authenticationError=!1}return n.prototype.getToken=function(){return localStorage.getItem("token")},n.prototype.updateToken=function(n){localStorage.setItem("token",n),this.authenticationError=!1},n.prototype.setAuthenticationError=function(){this.authenticationError=!0},n.prototype.hasAuthenticationError=function(){return this.authenticationError},n}(),k=function(){function n(n,t,l){this.activatedRoute=n,this.authService=t,this.router=l}return n.prototype.ngOnInit=function(){var n=this.activatedRoute.snapshot;if(null!=n.fragment&&n.fragment.startsWith("access_token=")){n.fragment.split("?")[1];var t=n.fragment.split("=")[1];this.authService.updateToken(t),this.router.navigateByUrl("")}null!=n.queryParamMap&&"access_denied"===n.queryParamMap.get("error")&&(this.authService.setAuthenticationError(),this.router.navigateByUrl("/login")),this.router.navigateByUrl("")},n.ctorParameters=function(){return[{type:b.a},{type:m},{type:b.k}]},n}(),y=[['.sk-folding-cube[_ngcontent-%COMP%]{width:40px;height:40px;-webkit-transform:rotate(45deg);transform:rotate(45deg);position:absolute;top:15%;margin:auto;left:0;right:0}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube[_ngcontent-%COMP%]{float:left;width:50%;height:50%;position:relative;-webkit-transform:scale(1.1);transform:scale(1.1)}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:azure;-webkit-animation:sk-foldCubeAngle 2.4s infinite linear both;animation:sk-foldCubeAngle 2.4s infinite linear both;-webkit-transform-origin:100% 100%;transform-origin:100% 100%}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube2[_ngcontent-%COMP%]{-webkit-transform:scale(1.1) rotate(90deg);transform:scale(1.1) rotate(90deg)}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube3[_ngcontent-%COMP%]{-webkit-transform:scale(1.1) rotate(180deg);transform:scale(1.1) rotate(180deg)}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube4[_ngcontent-%COMP%]{-webkit-transform:scale(1.1) rotate(270deg);transform:scale(1.1) rotate(270deg)}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube2[_ngcontent-%COMP%]:before{-webkit-animation-delay:.3s;animation-delay:.3s}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube3[_ngcontent-%COMP%]:before{-webkit-animation-delay:.6s;animation-delay:.6s}.sk-folding-cube[_ngcontent-%COMP%]   .sk-cube4[_ngcontent-%COMP%]:before{-webkit-animation-delay:.9s;animation-delay:.9s}@-webkit-keyframes sk-foldCubeAngle{0%,10%{-webkit-transform:perspective(140px) rotateX(-180deg);transform:perspective(140px) rotateX(-180deg);opacity:0}25%,75%{-webkit-transform:perspective(140px) rotateX(0deg);transform:perspective(140px) rotateX(0deg);opacity:1}90%,to{-webkit-transform:perspective(140px) rotateY(180deg);transform:perspective(140px) rotateY(180deg);opacity:0}}@keyframes sk-foldCubeAngle{0%,10%{-webkit-transform:perspective(140px) rotateX(-180deg);transform:perspective(140px) rotateX(-180deg);opacity:0}25%,75%{-webkit-transform:perspective(140px) rotateX(0deg);transform:perspective(140px) rotateX(0deg);opacity:1}90%,to{-webkit-transform:perspective(140px) rotateY(180deg);transform:perspective(140px) rotateY(180deg);opacity:0}}']],v=e._12({encapsulation:0,styles:y,data:{}});function w(n){return e._29(0,[(n()(),e._15(0,0,null,null,9,"div",[["class","sk-folding-cube"]],null,null,null,null,null)),(n()(),e._28(-1,null,["\n  "])),(n()(),e._15(2,0,null,null,0,"div",[["class","sk-cube1 sk-cube"]],null,null,null,null,null)),(n()(),e._28(-1,null,["\n  "])),(n()(),e._15(4,0,null,null,0,"div",[["class","sk-cube2 sk-cube"]],null,null,null,null,null)),(n()(),e._28(-1,null,["\n  "])),(n()(),e._15(6,0,null,null,0,"div",[["class","sk-cube4 sk-cube"]],null,null,null,null,null)),(n()(),e._28(-1,null,["\n  "])),(n()(),e._15(8,0,null,null,0,"div",[["class","sk-cube3 sk-cube"]],null,null,null,null,null)),(n()(),e._28(-1,null,["\n"])),(n()(),e._28(-1,null,["\n"]))],null,null)}var x=e._10("app-login-callback",k,function(n){return e._29(0,[(n()(),e._15(0,0,null,null,1,"app-login-callback",[],null,null,null,w,v)),e._13(1,114688,null,0,k,[b.a,m,b.k],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),C=function(){function n(n){this.authService=n,this.mainText="Login in to your Instagram Account,",this.subText="so we can find the best #hashtags for you."}return n.prototype.ngOnInit=function(){this.authService.hasAuthenticationError()&&(this.mainText="Please login in your Instagram account and grant tagfinder access.",this.subText="We will neither post nor access your images, only search for the best #hashtags.")},n.prototype.login=function(){window.location.href="https://www.instagram.com/oauth/authorize/?client_id=ad2fefc30670423798ee89e3d8bc517e&redirect_uri=http://localhost:4200/callback&response_type=token&scope=public_content"},n.ctorParameters=function(){return[{type:m}]},n}(),O=[["#login-wrapper[_ngcontent-%COMP%]{width:80%;padding:0 10%;position:absolute;top:15%;left:0;right:0}button[_ngcontent-%COMP%]{border:1px solid azure;background:none;padding:7px 27px;text-align:center;color:azure;font-family:Work Sans,sans-serif;font-weight:200;font-size:14px}"]],P=e._12({encapsulation:0,styles:O,data:{}});function T(n){return e._29(0,[(n()(),e._15(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e._28(1,null,["",""]))],null,function(n,t){n(t,1,0,t.component.subText)})}function M(n){return e._29(0,[(n()(),e._15(0,0,null,null,16,"div",[["id","login-wrapper"]],null,null,null,null,null)),(n()(),e._28(-1,null,["\n  "])),(n()(),e._15(2,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),e._28(-1,null,["Hi buddy!"])),(n()(),e._28(-1,null,["\n  "])),(n()(),e._15(5,0,null,null,7,"p",[],null,null,null,null,null)),(n()(),e._28(-1,null,["\n    "])),(n()(),e._15(7,0,null,null,1,"b",[],null,null,null,null,null)),(n()(),e._28(8,null,["",""])),(n()(),e._28(-1,null,["\n    "])),(n()(),e._9(16777216,null,null,1,null,T)),e._13(11,16384,null,0,r.j,[e.Y,e.V],{ngIf:[0,"ngIf"]},null),(n()(),e._28(-1,null,["\n  "])),(n()(),e._28(-1,null,["\n\n  "])),(n()(),e._15(14,0,null,null,1,"button",[],null,[[null,"click"]],function(n,t,l){var e=!0,u=n.component;"click"===t&&(e=!1!==u.login()&&e);return e},null,null)),(n()(),e._28(-1,null,["Login"])),(n()(),e._28(-1,null,["\n\n"])),(n()(),e._28(-1,null,["\n"]))],function(n,t){n(t,11,0,""!==t.component.subText)},function(n,t){n(t,8,0,t.component.mainText)})}var A=e._10("app-login",C,function(n){return e._29(0,[(n()(),e._15(0,0,null,null,1,"app-login",[],null,null,null,M,P)),e._13(1,114688,null,0,C,[m],null,null)],function(n,t){n(t,1,0)},null)},{},{},[]),S=[[""]],E=e._12({encapsulation:0,styles:S,data:{}});function j(n){return e._29(0,[(n()(),e._15(0,0,null,null,4,"div",[["id","router-outlet"]],null,null,null,null,null)),(n()(),e._28(-1,null,["\n  "])),(n()(),e._15(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e._13(3,212992,null,0,b.m,[b.b,e.Y,e.k,[8,null],e.i],null,null),(n()(),e._28(-1,null,["\n"])),(n()(),e._28(-1,null,["\n"]))],function(n,t){n(t,3,0)},null)}var I=e._10("app-root",o,function(n){return e._29(0,[(n()(),e._15(0,0,null,null,1,"app-root",[],null,null,null,j,E)),e._13(1,49152,null,0,o,[],null,null)],null,null)},{},{},[]),X=l("fc+i"),F=(l("ivSB"),l("GQSG"),function(){function n(n,t){this.auth=n,this.router=t}return n.prototype.intercept=function(n,t){var l=this;return n.url.includes("explore")?t.handle(n):(n=n.clone({setParams:{access_token:this.auth.getToken()}}),t.handle(n).map(function(n){return n instanceof a.i&&200===n.status?n.clone({body:n.body.data}):n}).do(function(n){n instanceof a.f&&400===n.error.meta.code&&"OAuthAccessTokenException"===n.error.meta.error_type&&(l.auth.setAuthenticationError(),l.router.navigate(["/login"]))}))},n.ctorParameters=function(){return[{type:m},{type:b.k}]},n}()),q=function(){return function(){}}(),z=e._11(u,[o],function(n){return e._24([e._25(512,e.k,e._7,[[8,[h,x,A,I]],[3,e.k],e.E]),e._25(5120,e.A,e._23,[[3,e.A]]),e._25(4608,r.l,r.k,[e.A]),e._25(5120,e.c,e._16,[]),e._25(5120,e.y,e._21,[]),e._25(5120,e.z,e._22,[]),e._25(4608,X.b,X.s,[r.c]),e._25(6144,e.Q,null,[X.b]),e._25(4608,X.e,X.f,[]),e._25(5120,X.c,function(n,t,l,e){return[new X.k(n),new X.o(t),new X.n(l,e)]},[r.c,r.c,r.c,X.e]),e._25(4608,X.d,X.d,[X.c,e.G]),e._25(135680,X.m,X.m,[r.c]),e._25(4608,X.l,X.l,[X.d,X.m]),e._25(6144,e.O,null,[X.l]),e._25(6144,X.p,null,[X.m]),e._25(4608,e.W,e.W,[e.G]),e._25(4608,X.g,X.g,[r.c]),e._25(4608,X.i,X.i,[r.c]),e._25(4608,a.k,a.p,[r.c,e.J,a.n]),e._25(4608,a.q,a.q,[a.k,a.o]),e._25(4608,m,m,[]),e._25(5120,a.a,function(n,t,l){return[n,new F(t,l)]},[a.q,m,b.k]),e._25(4608,a.m,a.m,[]),e._25(6144,a.l,null,[a.m]),e._25(4608,a.j,a.j,[a.l]),e._25(6144,a.b,null,[a.j]),e._25(5120,a.g,a.r,[a.b,[2,a.a]]),e._25(4608,a.c,a.c,[a.g]),e._25(5120,b.a,b.v,[b.k]),e._25(4608,b.d,b.d,[]),e._25(6144,b.f,null,[b.d]),e._25(135680,b.n,b.n,[b.k,e.D,e.j,e.w,b.f]),e._25(4608,b.e,b.e,[]),e._25(5120,b.h,b.y,[b.w]),e._25(5120,e.b,function(n){return[n]},[b.h]),e._25(4608,c,c,[a.c]),e._25(512,r.b,r.b,[]),e._25(1024,e.o,X.q,[]),e._25(1024,e.F,function(){return[b.r()]},[]),e._25(512,b.w,b.w,[e.w]),e._25(1024,e.d,function(n,t,l){return[X.r(n,t),b.x(l)]},[[2,X.h],[2,e.F],b.w]),e._25(512,e.e,e.e,[[2,e.d]]),e._25(131584,e._14,e._14,[e.G,e._8,e.w,e.o,e.k,e.e]),e._25(2048,e.g,null,[e._14]),e._25(512,e.f,e.f,[e.g]),e._25(512,X.a,X.a,[[3,X.a]]),e._25(512,a.e,a.e,[]),e._25(512,a.d,a.d,[]),e._25(1024,b.q,b.t,[[3,b.k]]),e._25(512,b.p,b.c,[]),e._25(512,b.b,b.b,[]),e._25(256,b.g,{},[]),e._25(1024,r.g,b.s,[r.n,[2,r.a],b.g]),e._25(512,r.f,r.f,[r.g]),e._25(512,e.j,e.j,[]),e._25(512,e.D,e.T,[e.j,[2,e.U]]),e._25(1024,b.i,function(){return[[{path:"",component:s},{path:"callback",component:k},{path:"login",component:C}]]},[]),e._25(1024,b.k,b.u,[e.g,b.p,b.b,r.f,e.w,e.D,e.j,b.i,b.g,[2,b.o],[2,b.j]]),e._25(512,b.l,b.l,[[2,b.q],[2,b.k]]),e._25(512,q,q,[]),e._25(512,u,u,[]),e._25(256,a.n,"XSRF-TOKEN",[]),e._25(256,a.o,"X-XSRF-TOKEN",[])])});Object(e._2)(),Object(X.j)().bootstrapModuleFactory(z).catch(function(n){return console.log(n)})},gFIY:function(n,t){function l(n){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+n+"'.")})}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="gFIY"}},[0]);